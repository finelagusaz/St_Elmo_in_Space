//******************************************************************************
// あやりりすEX　ゴーストテンプレート
// 種々のイベント辞書
//******************************************************************************

//******************************************************************************
//時報/重なり
//******************************************************************************

//------------------------------------------------------------------------------
//OnMinuteChangeイベント
//------------------------------------------------------------------------------

//時報
時報0時
{
	<<"
	りりす００：日付が変わったよ。
	りりす０４：（ユーザー）、まだ起きてるつもり？
	しば１０：これからが、本番かも。
	">>
}
時報1時
{
	<<"
	りりす０６：だいたい、１時くらいかな。
	りりす０４：（ユーザー）、そろそろ寝ない？
	しば１０：大きなお世話、かも。
	">>
}

時報2時
{
	時報4時
}

時報3時
{
	時報4時
}

時報4時
{
	<<"
	りりす０４：……ひょっとして、夜更かしかしら？
	しば１０：すごく早起き、かも。
	">>
}

時報5時
{
	時報17時
}

時報17時
{
	<<"
	りりす００：だいたい、５時くらいかな。
	しば１０：午前と午後、どっち？
	りりす０３：……うーん、どっちだろう。
	りりす０６：こういう時に、アナログ時計だと迷うね。
	">>
}

時報6時
{
	<<"
	りりす００：だいたい、６時くらいかな。
	りりす０５：体操でもする？　東洋の島国では、やるみたいだよ。
	しば１０：健康が、一番だね。
	">>
}

時報7時
{
	<<"
	りりす００：だいたい、７時くらいかな。
	りりす２０：朝ごはん出来てるし、食べようか。
	しば１０：うんうん。
	">>
}

時報8時
{
	<<"
	りりす００：だいたい、８時くらいかな。
	しば１０：そろそろ、出かけている人が増えるね。
	">>
}

時報9時
{
	<<"
	りりす００：だいたい、９時くらいかな。
	しば１０：うんうん。
	">>
}


時報10時
{
	<<"
	りりす００：だいたい、１０時くらいかな。
	りりす０６：人によっては、この時間にお菓子を食べるらしいわ。
	しば１０：食いしんぼう、なんだね。
	">>
}

時報12時
{
	<<"
	りりす００：だいたい、正午かな。
	りりす０５：忙しくても、ちゃんとお昼ご飯を食べよう。
	しば１０：うんうん。
	">>
}

時報15時
{
	<<"
	りりす００：だいたい、１５時かな。
	りりす２０：おやつの時間だね。一休みしようか。
	しば１０：うんうん。
	">>
}

時報18時
{
	<<"
	りりす００：だいたい、１８時かな。
	りりす０５：ご飯の準備をするわ。何食べようか。
	しば１０：%(ANY((food,me)))がいい！
	りりす２０：いいわよ。
	">>
}

時報19時
{
	<<"
	りりす００：だいたい、１９時くらいかな。
	りりす２０：夕ごはん出来てるし、食べようか。
	しば１０：うんうん。
	">>
}

時報20時
{
	<<"
	りりす００：だいたい、２０時くらいかな。
	りりす２０：夕ごはんの片づけ終わったし、ゆっくりしようか。
	しば１０：うんうん。
	">>
}

//******************************************************************************
//キー入力
//******************************************************************************

//ランダムトーク
キー入力T
{
	'\![raise,OnAiTalk]'
}

//SHIORiリロード
キー入力R
{
	'\![reload,shiori](RELOAD SHIORI)'
}

//メニュー
キー入力M
{
	if ISFUNC('OpenMenu') {
		OpenMenu
	}
	else {
		'\![raise,OnMouseDoubleClick,0,0,0,0,__SYSTEM_KEYDOWN_COL,0,mouse]'
	}
}

//******************************************************************************
//見切れ
//******************************************************************************

//------------------------------------------------------------------------------
//見切れ中
//------------------------------------------------------------------------------
見切れ0
{
	<<"
	りりす２０：見切れ中トークのサンプルだよ。
	しば１０：書き方は__AYA_SYSTEM_FILE__の、__AYA_SYSTEM_LINE__行目あたりを見て。
	">>

	<<"
	りりす０６：画面の外にはみ出しているのは、中途半端でいやだな。
	しば１０：デスクトップの片付け中かも？
	">>
}

//------------------------------------------------------------------------------
//見切れ終了
//------------------------------------------------------------------------------
見切れ解除0
{
	<<"
	りりす２０：見切れ復帰のサンプルだよ。
	しば１０：書き方は__AYA_SYSTEM_FILE__の、__AYA_SYSTEM_LINE__行目あたりを見て。
	">>

	<<"
	りりす２０：戻ってこれると気分がいいね。
	しば１０：うんうん。
	">>
}

//******************************************************************************
//サーフィス復元
//******************************************************************************

//------------------------------------------------------------------------------
// OnSurfaceRestoreイベント(ここは書き換えなくて構いません)
// 一定時間経った後、0番10番以外に戻したい場合は、\s[0] \s[10]の数字部を
// 書き換えてください。
//------------------------------------------------------------------------------
OnSurfaceRestore
{
	"\0\s[0]\1\s[10]\e"
}

//******************************************************************************
//シェル切り替え
//******************************************************************************

//------------------------------------------------------------------------------
//シェルチェンジ開始
//------------------------------------------------------------------------------

//シェル変更前・後
//シェル再読み込み前・後
//シェル(名前)変更前・後

シェル変更前
{
	<<"
	りりす００：着替えるわ。
	しば１０：着替えるよー。
	">>
}

//------------------------------------------------------------------------------
//シェルチェンジ完了
//------------------------------------------------------------------------------
シェル変更後
{
	<<"
	りりす０５：どう、似合うかしら。
	しば１０：似合うかなー。
	">>
}


//******************************************************************************
//インストール関連
//******************************************************************************

//------------------------------------------------------------------------------
//インストール中のメッセージ
//------------------------------------------------------------------------------
OnInstallBegin
{
	<<"
	りりす０６：インストールしています……
	">>
}

//------------------------------------------------------------------------------
//インストール完了メッセージ
//------------------------------------------------------------------------------
OnInstallComplete
{
	reference[0] = SPLIT(reference[0],' with',2)[0] //hogehoge with hemohemo
	ref_id = ''
	if reference[0] == "shell" {
		ref_id = 'shell'
	}
	elseif reference[0] == "ghost" {
		ref_id = 'ghost'
	}
	elseif reference[0] == "balloon" {
		ref_id = 'balloon'
	}
	
	<<"
	りりす０５【R0 == 'shell'】：シェル、
	りりす０５【R0 == 'ghost'】：ゴースト、
	りりす０５【R0 == 'balloon'】：バルーン、
	りりす０５【R0 == 'plugin'】：プラグイン、
	りりす０４【それ以外】：なんだかわからないもの、
	改行無しりりす：「%(reference[1])」、インストール完了よ。
	りりす【STRLEN(ref_id) > 0】：切り替える？
	＠メニュー【直前】：切り替える｜OnAYATEMPLATE.InstallChange｜%(ref_id)
	＠メニュー【直前】：切り替えない｜Menu_CANCEL
	">>
}

OnAYATEMPLATE.InstallChange
{
	<<"
	りりす０５：それじゃ、しばらく待ってね。\![change,%(reference[0]),lastinstalled]
	">>
}

//------------------------------------------------------------------------------
//インストール失敗メッセージ
//------------------------------------------------------------------------------
OnInstallFailure
{
	<<"
	りりす０７：インストールに失敗しました。
	りりす０６：理由は、%(reference[0])。
	しば１０：うーん。
	">>
}

//------------------------------------------------------------------------------
//インストール拒否（他のゴーストのためのアーカイブだった）
//------------------------------------------------------------------------------
OnInstallRefuse
{
	<<"
	りりす０７：これは、%(reference[0])用のアーカイブです。
	りりす０６：処理を中断するわ。
	しば１０：うーん。
	">>
}


//******************************************************************************
//消滅関連
//******************************************************************************

//------------------------------------------------------------------------------
//消滅指示
//------------------------------------------------------------------------------
OnVanishSelecting
{
	<<"
	りりす０４：サンプルだから、飽きられたかしら。
	しば１０：うーん。
	">>
}

//------------------------------------------------------------------------------
//消滅開始
//------------------------------------------------------------------------------
OnVanishSelected
{
	<<"
	りりす０４：……さようなら。
	改行無し待ち無しりりす０６：また会える日が来るといいわね。
	しば１０：おいらたちゴーストだから、化けて出るかも。
	りりす００：そういうこと言わないの。
	">>
}

//------------------------------------------------------------------------------
//消滅中止
//------------------------------------------------------------------------------
OnVanishCancel
{
	<<"
	りりす２０：……消滅中止のやりかた、知っていたんだ。
	しば１１：消す気はないけど、実験したんじゃないかな。
	りりす０５：そうかもね。
	">>
}

//------------------------------------------------------------------------------
//他のゴーストが消滅して自分に切り替わった
//------------------------------------------------------------------------------
OnVanished
{
	<<"
	りりす０４：%(reference[0])さんが消えてしまった……
	しば１０：いつかまた、会えるかな。
	りりす０５：そうだといいわね。
	">>
}


//******************************************************************************
//メールチェック
//******************************************************************************

//------------------------------------------------------------------------------
//メールチェック開始
//------------------------------------------------------------------------------
OnBIFFBegin
{
	<<"
	りりす０５：メールが届いてないかチェックします。
	しば１０：うんうん。
	">>
}

//------------------------------------------------------------------------------
//メールチェック成功
//------------------------------------------------------------------------------
OnBIFFComplete
{
	if reference[0] == 0
	{
		//---- メールは無かった
		<<"
		りりす０４：メールは無かったわ。
		しば１０：うーん。（ユーザ）、さびしい？
		りりす０６：そういうこと言わないの。
		">>
	}
	else
	{
		//---- メールが届いていた
		<<"
		りりす０５：%(reference[0])通のメールがあったわ。
		しば１０：（ユーザ）、見てみたい？
		">>
	}
}

//------------------------------------------------------------------------------
//メールチェック失敗
//------------------------------------------------------------------------------
OnBIFFFailure
{
	if reference[0] == "timeout"
	{
		//---- タイムアウト
		<<"
		りりす０４：いつまで待っても、メールサーバにつながらない。
		しば１０：どうしたんだろう。
		">>
	}
	elseif reference[0] == "kick"
	{
		//---- 蹴られた
		<<"
		りりす０４：蹴られたわ。
		しば１０：けられたね。
		">>
	}
	elseif reference[0] == "defect"
	{
		//---- 設定誤り
		<<"
		りりす０４：全然ダメ……
		りりす０６：メールチェックの設定を、見なおした方がいいね。
		しば１０：うんうん。
		">>
	}
	else
	{
		//---- 原因不明
		<<"
		りりす０４：原因不明……
		しば１０：よく分からないけど、しっぱい。
		">>
	}
}


//******************************************************************************
//ネットワーク更新
//******************************************************************************

//------------------------------------------------------------------------------
//ネットワーク更新開始
//------------------------------------------------------------------------------
OnUpdateBegin
{
	<<"
	りりす０５：ネットワーク更新開始よ。
	しば１０：おいらたち、新しくなるのかな。
	">>
}

//------------------------------------------------------------------------------
//ネットワーク更新準備完了
//------------------------------------------------------------------------------
OnUpdateReady
{
	<<"
	りりす００：%(TOINT(reference[0])+1)個のファイルがあったわ。
	しば１０：がんばって更新だー。
	">>
}

//------------------------------------------------------------------------------
//ネットワーク更新終了
//------------------------------------------------------------------------------
OnUpdateComplete
{
	if reference[0] == "none"
	{
		//---- 更新すべきファイルが無かった
		<<"
		りりす０４：……更新ファイルなし。
		しば１０：そういう日もあるー。
		">>
	}
	else
	{
		//---- 実際に更新が完了した
		<<"
		りりす０５：更新、無事完了したわ。
		しば１０：こうしんしゅうりょうー。
		">>
	}
}

//------------------------------------------------------------------------------
//ネットワーク更新失敗
//------------------------------------------------------------------------------
OnUpdateFailure
{
	<<"
	りりす０４：更新失敗。理由は…
	りりす【R0 == 'timeout'】：時間切れね。通信できてない。
	りりす【R0 == 'md5 miss'】：ファイル破損ね。
	りりす【それ以外】：%(reference[0])だって。
	しば１０：なんだろうねー。
	">>
}

//------------------------------------------------------------------------------
//ネットワーク更新 ダウンロード開始
//------------------------------------------------------------------------------
OnUpdate.OnDownloadBegin
{
	<<"
	りりす００：ファイル「%(reference[0])」をダウンロードするわ。
	">>
}

//------------------------------------------------------------------------------
//ネットワーク更新 MD5値照合開始
//------------------------------------------------------------------------------
OnUpdate.OnMD5CompareBegin
{
	<<"
	りりす００：ファイルが壊れてないか確認中。
	">>
}

//------------------------------------------------------------------------------
//ネットワーク更新 MD5値一致
//------------------------------------------------------------------------------
OnUpdate.OnMD5CompareComplete
{
	<<"
	りりす０５：ファイルに問題はなさそうね。
	">>
}

//------------------------------------------------------------------------------
//ネットワーク更新 MD5値不一致
//------------------------------------------------------------------------------
OnUpdate.OnMD5CompareFailure
{
	<<"
	りりす０４：どこかでファイルが壊れたようね。
	">>
}

//******************************************************************************
//ヘッドラインセンス
//******************************************************************************

//------------------------------------------------------------------------------
//ヘッドラインセンス開始
//------------------------------------------------------------------------------
OnHeadlinesenseBegin
{
	<<"
	りりす００：ヘッドライン「%(reference[0])」を取得中よ。
	">>
}

//------------------------------------------------------------------------------
//ヘッドライン読み上げ
//------------------------------------------------------------------------------
OnHeadlinesense.OnFind
{
	<<"
	り００【R2 == "First"||R2 == "First and Last"】：%(reference[0])のヘッドラインよ。
	り００【R2 == "Next"】：%(reference[0])ヘッドライン、続き。
	り００【それ以外】：%(reference[0])ヘッドライン、これが最後のページです。
	り００ｂ２：\_q\n[half]%(reference[3])\_q
	＠半分メニュー【'Last' !_in_ R2】：次のページ|
	＠半分メニュー【直前分岐】：サイトへ|%(reference[1])
	＠メニュー【それ以外】：サイトへ|%(reference[1])
	＠メニュー：やめ|Menu_HEADLINECANCEL
	">>
}

//------------------------------------------------------------------------------
//ヘッドライン更新が無かった
//------------------------------------------------------------------------------
OnHeadlinesenseComplete
{
	<<"
	り０４：%(reference[0])の更新はないみたいね。
	">>
}

//------------------------------------------------------------------------------
//ヘッドラインセンス失敗
//------------------------------------------------------------------------------
OnHeadlinesenseFailure
{
	<<"
	り０４：ヘッドラインセンスの実行に失敗。理由は…
	り【R0 == 'can't download'】：ダウンロード失敗ね。
	り【R0 == 'can't analyze'】：ヘッドライン解析失敗ね。
	り【それ以外】：謎だわ……
	しば１０：書き方は__AYA_SYSTEM_FILE__の、__AYA_SYSTEM_LINE__行目あたりを見て。
	">>
}


//******************************************************************************
//ファイル作成関連
//******************************************************************************

//------------------------------------------------------------------------------
//updates2.dau作成開始
//------------------------------------------------------------------------------
OnUpdatedataCreating
{
	<<"
	りりす００：updates2.dauを作るわ。
	しば１０：ネットワーク更新に必要なファイルだね。
	">>
}

//------------------------------------------------------------------------------
//updates2.dau作成完了
//------------------------------------------------------------------------------
OnUpdatedataCreated
{
	<<"
	りりす０５：updates2.dau作成完了。
	しば１０：更新するときは、このファイルもアップロードしてね。
	">>
}

//------------------------------------------------------------------------------
//NAR作成開始
//------------------------------------------------------------------------------
OnNarCreating
{
	<<"
	りりす００：NARファイルを作るわ。
	しば１０：あっしゅくー。
	">>
}

//------------------------------------------------------------------------------
//NAR作成完了
//------------------------------------------------------------------------------
OnNarCreated
{
	<<"
	りりす０５：「%(reference[0])」のnarファイル、「%(reference[1])」を作成完了。
	しば１０：ちゃんとできたー。
	">>
}

//******************************************************************************
//時計合わせ
//みか (http://homepage2.nifty.com/ko-ki/) の辞書を参考にしました。感謝＞こーき氏
//******************************************************************************

//------------------------------------------------------------------------------
//時計合わせ開始
//------------------------------------------------------------------------------
OnSNTPBegin
{
	<<"
	りりす００：時計を合わせるわ。
	しば１０：%(reference[0])に接続するよー。
	">>
}

//------------------------------------------------------------------------------
//時刻取得成功、比較開始
//この関数で 2008/03/25 19:15:05 のように見やすい形に作り変えます。
//詳しくはSTRFORM関数の説明を見てね！
//わからなければこのままで。
//------------------------------------------------------------------------------

SNTPCompare_StrForm
{
	_txt = SPLIT(_argv[0],',')
	STRFORM("$04d/$02d/$02d $02d:$02d:$02d",TOINT(_txt[0]),TOINT(_txt[1]),TOINT(_txt[2]),TOINT(_txt[3]),TOINT(_txt[4]),TOINT(_txt[5]))
}

OnSNTPCompare
{
	<<"
	りりす０５：実行完了。
	＠設定：クイックセクション
	りりす：修正前 %(SNTPCompare_StrForm(reference[2]))
	りりす：修正後 %(SNTPCompare_StrForm(reference[1]))
	＠設定：クイックセクション
	りりす【TOINT(R3) == 0】：ぴったりだったわ。
	りりす【それ以外】：%(reference[3])秒のずれを修正したよわ。
	">>
}

//------------------------------------------------------------------------------
//時計合わせ失敗
//------------------------------------------------------------------------------
OnSNTPFailure
{
	<<"
	りりす０４：時計合わせに失敗。
	">>
}


//******************************************************************************
//そのほか
//******************************************************************************

//------------------------------------------------------------------------------
//URLドロップ
//CROW でゴーストインストーラからゴーストをインストールを始めた時にも呼ばれます
//------------------------------------------------------------------------------
OnURLDropping
{
	<<"
	りりす００：%(reference[0])からデータを取得中。
	">>
}

//------------------------------------------------------------------------------
//スクリーンセーバー実行開始
//------------------------------------------------------------------------------
OnScreenSaverStart
{
	<<"
	りりす０５：スクリーンセーバーが起動したようね。
	">>
}

//------------------------------------------------------------------------------
//スクリーンセーバー実行終了
//------------------------------------------------------------------------------
OnScreenSaverEnd
{
	<<"
	りりす０５：スクリーンセーバー終了。
	">>
}
